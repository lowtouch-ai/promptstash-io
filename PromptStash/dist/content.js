chrome.runtime.onMessage.addListener(((e,t,o)=>{let n;n=window.location.hostname.includes("chatgpt.com")?document.querySelector("div[contenteditable='true']"):document.querySelector("textarea, input[type='text']"),"sendPrompt"===e.action?n?("DIV"===n.tagName&&"true"===n.contentEditable?n.textContent=e.prompt:n.value=e.prompt,n.dispatchEvent(new Event("input",{bubbles:!0}))):console.log("No input field found for sendPrompt"):"getPrompt"===e.action?o(n?{prompt:"DIV"===n.tagName?n.textContent:n.value}:{prompt:""}):"getSelectedText"===e.action&&o({selectedText:window.getSelection().toString()})})),window.addEventListener("message",(e=>{if("closeSidebar"===e.data.action){const e=document.getElementById("promptstash-sidebar");e&&e.remove()}}));