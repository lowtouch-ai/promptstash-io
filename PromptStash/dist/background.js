chrome.runtime.onInstalled.addListener((()=>{chrome.contextMenus.create({id:"saveToPromptStash",title:"Save to PromptStash",contexts:["selection"]})})),chrome.contextMenus.onClicked.addListener(((e,t)=>{"saveToPromptStash"===e.menuItemId&&chrome.tabs.sendMessage(t.id,{action:"getSelectedText"},(e=>{e&&e.selectedText&&chrome.storage.sync.get(["templates"],(t=>{const s=t.templates||[];s.push({name:"New Template",tags:"",content:e.selectedText,type:"custom"}),chrome.storage.sync.set({templates:s})}))}))}));